webpackJsonp([5],{675:function(t,e,a){"use strict";function o(t){a(690)}Object.defineProperty(e,"__esModule",{value:!0});var i=a(686),r=a(692),s=a(25),l=o,n=s(i.a,r.a,!1,l,null,null);e.default=n.exports},686:function(t,e,a){"use strict";var o=a(185),i=a.n(o),r=a(26),s=a.n(r),l=a(97);e.a={name:"VoteHistory",data:function(){return{pagination:{index:5},loading:!0,headers:[{text:"사용자",align:"center",sortable:!0,value:"voter"},{text:"보팅금액",align:"right",sortable:!0,value:"value"},{text:"가중치",align:"right",sortable:!0,value:"weight"},{text:"큐레이션",align:"right",sortable:!0,value:"curation"},{text:"시간",align:"center",sortable:!0,value:"time"}],active_votes:[],total_vote_weight:0,pending_payout_value:0,total_payout_value:0,curator_payout_value:0,title:"",author:"",author_reputation:0,created:"",category:"",net_votes:0,children:0,cashout_time:""}},filters:{formatTime:function(t){var e=new Date(t);return("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2)+" "+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}},computed:i()({payoutTime:function(){var t=(new Date(this.cashout_time)-new Date)/1e3;return t>86400?Math.round(t/86400)+"일":t>3600?Math.round(t/3600)+"시간":t>60?Math.round(t/60)+"분":Math.round(t)+"초"},payoutValue:function(){return this.pending_payout_value+this.total_payout_value+this.curator_payout_value},votes:function(){var t=this,e=0,a=0;return this.active_votes.forEach(function(t){e+=parseFloat(t.rshares),a+=parseFloat(t.weight)}),this.active_votes.map(function(o){var i=void 0,r=void 0;if(t.pending_payout_value>0)i=o.rshares*(t.global.rewardBalance/t.global.recentClaims)*t.global.price,r="≈"+(o.weight/t.total_vote_weight*t.pending_payout_value*.25/t.global.price).toFixed(3)+" SP";else{var l=t.total_payout_value?t.total_payout_value/(t.total_payout_value+t.curator_payout_value):0;i=l?o.rshares/e*parseFloat(t.total_payout_value/l):0,r=(o.weight/a*t.curator_payout_value).toFixed(3)+" SBD",console.log(o.rshares,e,t.total_payout_value,l)}return{voter:o.voter,reputation:s.a.formatter.reputation(o.reputation),weight:o.percent/100,value:i.toFixed(3),curation:r,time:new Date(o.time+"Z")}})}},Object(l.b)({global:function(t){return t.global}})),beforeCreate:function(){var t=this,e=this.$route.params.author,a=this.$route.params.permlink;s.a.api.getContentAsync(e,a).then(function(e){console.log(e),t.title=e.title,t.total_vote_weight=e.total_vote_weight,t.pending_payout_value=parseFloat(e.pending_payout_value.split(" ")[0]),t.total_payout_value=parseFloat(e.total_payout_value.split(" ")[0]),t.curator_payout_value=parseFloat(e.curator_payout_value.split(" ")[0]),t.active_votes=e.active_votes,t.author=e.author,t.author_reputation=e.author_reputation,t.created=e.created,t.category=e.category,t.net_votes=e.net_votes,t.children=e.children,t.cashout_time=e.cashout_time}).catch(function(t){return console.log(t)}).finally(function(){return t.loading=!1})},created:function(){this.$store.dispatch("global/loadGlobalProperties")},deactivated:function(){this.$destroy()}}},690:function(t,e,a){var o=a(691);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(669)("395f79ce",o,!0,{})},691:function(t,e,a){e=t.exports=a(668)(!0),e.push([t.i,"@media (max-width:540px){table.v-table td,table.v-table th{padding:0 5px!important}}","",{version:3,sources:["C:/workspace/steemit-app/src/components/VoteHistory.vue"],names:[],mappings:"AACA,yBACA,kCACI,uBAA0B,CAC7B,CACA",file:"VoteHistory.vue",sourcesContent:["\n@media (max-width: 540px) {\ntable.v-table td, table.v-table th {\r\n    padding: 0 5px !important;\n}\n}\r\n"],sourceRoot:""}])},692:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","grid-list-md":""}},[t.loading?t._e():a("v-layout",[a("v-flex",{attrs:{xs12:"",md8:"","offset-md2":""}},[a("v-layout",{attrs:{"justify-start":"",column:""}},[a("v-flex",[a("v-card",[a("v-card-title",{staticClass:"title pb-0"},[t._v("\r\n              "+t._s(t.title)+"\r\n            ")]),t._v(" "),a("v-layout",[a("v-flex",{staticClass:"pr-0",attrs:{xs7:""}},[a("v-list",{staticClass:"pt-0"},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-avatar",[a("img",{attrs:{src:"https://steemitimages.com/u/"+t.author+"/avatar/small",alt:"avatar",onerror:"this.src='https://steemitimages.com/u/monawoo/avatar/small'"}})]),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(t.author)+" "),a("span",{staticClass:"reputation"},[t._v("("+t._s(t._f("filterReputation")(t.author_reputation))+")")])]),t._v(" "),a("v-list-tile-sub-title",[t._v(t._s(t._f("filterCreated")(t.created))+" · "+t._s(t.category))])],1)],1)],1)],1),t._v(" "),a("v-flex",{staticClass:"pr-4 pt-3",attrs:{xs5:"","text-xs-right":""}},[a("div",[t._v("좋아요 "+t._s(t.net_votes)+" · 댓글 "+t._s(t.children))]),t._v(" "),a("v-tooltip",{attrs:{bottom:""}},[a("strong",{attrs:{slot:"activator"},slot:"activator"},[t._v("$"+t._s(t.payoutValue))]),t._v(" "),t.pending_payout_value>0?a("div",[t._v(" 예상 보상금액: $"+t._s(t.payoutValue)),a("br"),t._v(" "),t._v("\r\n                  "+t._s(t.payoutTime)+" 후")]):t._e(),t._v(" "),0===t.pending_payout_value?a("div",[t._v("\r\n                     지급된 보상 $"+t._s(t.payoutValue)),a("br"),t._v("\r\n                    - 저자 $"+t._s(t.total_payout_value)),a("br"),t._v("\r\n                    - 큐레이터 $"+t._s(t.curator_payout_value)+"\r\n                  ")]):t._e()])],1)],1)],1)],1),t._v(" "),a("v-flex",[a("v-subheader",{staticClass:"pl-0 subheading"},[t._v("보팅"),a("small",[t._v("("+t._s(t.net_votes)+")")])]),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.votes,"hide-actions":"","disable-initial-sort":"",loading:t.loading},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.voter)+" "),a("span",{staticClass:"reputation"},[t._v("("+t._s(e.item.reputation)+")")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v("$"+t._s(e.item.value))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.weight)+"%")]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.curation))]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t._f("formatTime")(e.item.time)))])]}}])})],1)],1)],1)],1)],1)},i=[],r={render:o,staticRenderFns:i};e.a=r}});
//# sourceMappingURL=5.9b07bd4e68da6e344d8e.js.map